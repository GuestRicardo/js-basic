<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../assets/css/style.css">
</head>

<body>
    <section class="container">
        <h1 class="cyber">Conectando ao Model</h1>
        <span class="lembrete">Todas essas dependencias instaladas posteriormente seram dependencias do projeto, e nao
            dev...</span>
        <p>
            1- Primeiro passo, para nao aparecer a senha do db no arquivo será preciso usar um arquivo pessoal que nao
            ira para o servidor online.(Esta é a melhor pratica de programação).
            <div class="anotacoes">
                <strong>No Terminal</strong> <br>
                npm install dotenv
            </div>
            com esse pacote será criado variaveis de ambiente, para o arquivo e nao enfluenciando no sistema.
        </p>
        <hr>
        <p>
            2- segundo passo vamos precisar do <strong>mongoose</strong> para fazer a modelagem dos dados, ele tratará
            os dados, ele vai validar os dados e conectar a nossa base de dados.
            <div class="anotacoes">
                npm install mongoose
            </div>
        </p>
        <hr>
        <p>
            3- terceiro passo, será conectar no db no arquivo <strong>server.js</strong>
            <div class="anotacoes">
                <strong>add o mongoose</strong><br>
                const mongoose = require('mongoose');<br>
                <div class="lembrete">
                    <strong>chave de conexão</strong><br>
                    const connectString = 'mongodb+srv://gestricardo:<span
                        style="background-color: red; color: black;">senha</span>@cluster0.dsh0hpx.<br>mongodb.net/teste?retryWrites=true&w=majority'
                </div>
                <strong>conectando ao BASE DE DADOS</strong> <br>
                mongoose.connect(connectString);
            </div>
            <div class="exemplos">
                <span class="lembrete">Rode primeiro o <strong>node server.js</strong> para testar, mais se caso der
                    erro</span>
                <h3 class="cyber">PARA EVITAR POSSIVEIS ERROS</h3>
                mongoose.connect(connectString, <span class="lembrete">{ useNewUrlParse: true <br>
                    useUnifiedTopology: true }</span>);
            </div>
        </p>
        <p>
            4- quarto passo, agora teremos q saber se a aplicação esta escutando e enviando o sinal para conectar ao db.
            <div class="exemplos">
                <strong>esta linha esta conectando</strong>
                <div class="anotacoes">
                    mongoose.connect(connectString); 
                </div>
                <strong>nesta linha esta sendo verificado se o sinal esta sendo eviado e recebido</strong> 
                <div class="anotacoes">
                    .then(() => {<br>
                    app.emit('conectado com DB com sucesso') <br>
                    }) <br>
                </div>
                <strong>Quando tudo estiver ok, será feito a conexão</strong>
                <div class="anotacoes">
                    app.on(() => { <br>
                        app.listen(3000, () => { <br>
                            console.log('Acesse o http://localhost:3000'); <br>
                            console.log('Servidor executando com sucesso...'); <br>
                        });<br>
                    });<br>
                    <span class="lembrete">so ira chegar aq, quando o <strong>.then</strong> estiver tudo certo</span>
                </div>
            </div>
        </p>
    </section>
</body>

</html>