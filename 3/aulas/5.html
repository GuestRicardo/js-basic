<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../assets/css/style.css">
</head>

<body>
    <section class="container">
        <h1 class="cyber">Escrevendo via FS</h1>
        <p>
            Para criar e escrever via FS é so usar o <strong>fs.writeFile</strong>
        </p>
        <h3 class="cyber">Exemplo:</h3>
        <div class="anotacoes">
            <h3>Arquivo escrever.</h3>
            const fs = require('fs').promises; <br>
            const path = require('path'); <br>
            <span class="lembrete">Aq(__dirname) esta sendo pegado o caminho absoluto da pasta o ('..') indica q é uma
                pasta acima e esta sendo criado o arquivo </span> <br>
            const caminhoArquivo = path.resolve(__dirname, '..', 'test.txt'); <br>
            <spn class="lembrete">Aq esta sendo mandado o caminho e o conteudo q estara escrito no arquivo criado pela
                variavel <strong>caminhoArquivo</strong>, e dentro do objeto esta usando o (flag: 'w') para apagar tudo
                q esta dentro do aqrquivo caso tenho algo escrito, ja o utf8 e o padrao pt br </spn> <br>
            fs.writeFile(caminhoArquivo, 'Frase 1', {flag: 'w', encoding: 'utf8'}); <br>
            <span class="lembrete">o utf8 nao é obrigatorio mandar</span><br>
            <span class="lembrete">Usando a flag w, toda vez q executar a função sera reelido o arquivo e apagado para q
                seja inserido o mesmo conteudo da função, para que possa ser adicionado novos conteudos ao inves de
                apagar é so usar a <strong>flag: 'a'</strong> assim todo conteudo criado sera adicionado abaixo</span>
            <div class="exemplos"><strong>flag:'a'</strong> é interessante usar quando fizer login.</div>
            <div class="exemplos">
                Exeiste uma função que <strong>converte</strong> um objeto para json epara le-lo é possivel recupera-lo
                em js <br>
                <h3 class="cyber">Exemplo:</h3>
                const caminhoArquivo = path.resolve(__dirname, '..', 'test.json'); <br>
                <br>
                const pessoas =[ <br>
                {nome: 'joao'}, <br>
                {nome: 'maria'}, <br>
                {nome: 'jose'}, <br>
                {nome: 'eduardo'}, <br>
                {nome: 'joaquim'}, <br>
                ]; <br>
                <strong> const json = JSON.stringify(<span class="lembrete"> pessoas, '', 2</span>); </strong> <br>
                <div class="lembrete">
                    <strong>pessoa</strong> = nome do array <br>
                    <strong>''</strong> = espaço q sera dado nos conteudos do array <br>
                    <strong>2</strong> = é a quandtidade de identações
                </div>

                fs.writeFile(caminhoArquivo, json, {flag: 'w', encoding: 'utf8'}); <br>
            </div>
        </div>

    </section>
    <section class="container">
        <h1 class="cyber">Lendo arquivos</h1>
        <p>Para ler via FS é so usar o <strong>fs.readFile()</strong> </p>
        <h3 class="cyber">Exemplo:</h3>
        <div class="anotacoes">
            <h3>Arquivo ler.js</h3>
            const fs = require('fs').promises; <br>
            <br>
            module.exports = (caminho)=> { <br>
            fs.readFile(caminho, 'utf8'); <br>
            }; <br>
            <div class="lembrete">
                quando o arquivo for lido no lido, ele retroinará novamente como <strong>objeto</strong>, para isso
                acontecer é preciso criar uma função dentro do arquivo <strong>app</strong>
            </div>


        </div>
        <div class="anotacoes">
            <h3>Arquivo app.js</h3>
            <p>convertendo <strong>json</strong> para <strong>objeto</strong></p>
            const ler = require('./modules/ler'); <br> <br>
            async function lerArquivo(caminho) { <br>
                const dados = await ler(caminho); <br>
                renderizaDados(dados); <br>
            }; <br> <br>
            
            function renderizaDados(dados) { <br>
               <strong> dados = JSON.parse(dados);</strong> <br>
                dados.forEach(valor => console.log(valor)); <br>
            }; <br>
            <br>
            lerArquivo(caminhoArquivo); <br> 
        </div>
        <div style="text-align: center; ">
            <a style="text-decoration: none; color: rgb(2, 80, 110);" href="../exercicios/escrevendo-e-lendo/app.js" class="cyber">Arquivo app.js</a> <br>
            <a style="text-decoration: none; color: rgb(2, 80, 110);" href="../exercicios/escrevendo-e-lendo/modules/escrever.js" class="cyber">Arquivo escrever.js</a> <br>
            <a style="text-decoration: none; color: rgb(2, 80, 110);" href="../exercicios/escrevendo-e-lendo/modules/ler.js" class="cyber">Arquivo ler.js</a> <br>
        </div>
    </section>
    <script src="../exercicios/escrevendo-e-lendo/app.js"></script>
</body>

</html>